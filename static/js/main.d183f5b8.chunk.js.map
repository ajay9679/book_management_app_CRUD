{"version":3,"sources":["App.js","components/Header.js","components/Book.js","context/BooksContext.js","components/BooksList.js","components/BookForm.js","components/AddBook.js","components/EditBook.js","hooks/useLocalStorage.js","router/AppRouter.js","index.js"],"names":["App","Header","className","to","activeClassName","exact","Book","id","bookname","author","price","quantity","date","handleRemoveBook","history","useHistory","Card","style","width","Body","Title","Date","toDateString","Button","variant","onClick","push","BooksContext","React","createContext","BooksList","props","useContext","books","setBooks","filter","book","Fragment","_","isEmpty","map","BookForm","useState","errorMsg","setErrorMsg","setBook","status","handleInputChange","e","target","name","value","parseInt","prevState","match","Form","onSubmit","preventDefault","error","every","field","trim","uuid4","handleOnSubmit","Group","controlId","Label","Control","type","placeholder","onChange","AddBook","EditBook","useParams","bookToEdit","find","filteredBook","useLocalStorage","key","initialValue","localValue","window","localStorage","getItem","JSON","parse","setValue","useEffect","setItem","stringify","AppRouter","Provider","component","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d183f5b8.chunk.js","sourcesContent":["import './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      hello\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n    return <header>\r\n        <h1>Book Management App</h1>\r\n        <hr />\r\n        <div className=\"links\">\r\n            <NavLink to=\"/\" className=\"link\" activeClassName=\"active\" exact>Books List</NavLink>\r\n            <NavLink to=\"/add\" className=\"link\" activeClassName=\"active\">Add Book</NavLink>\r\n        </div>\r\n    </header>\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst Book = ({ id, bookname, author, price, quantity, date, handleRemoveBook }) => {\r\n\tconst history = useHistory();\r\n\r\n\treturn <Card style={{ width: '18rem' }} className=\"book\">\r\n\t\t<Card.Body>\r\n\t\t\t<Card.Title className=\"book-title\">{bookname}</Card.Title>\r\n\t\t\t<div className=\"book-details\">\r\n\t\t\t\t<div>Author: {author}</div>\r\n\t\t\t\t<div>Quantity: {quantity} </div>\r\n\t\t\t\t<div>Price: {price} </div>\r\n\t\t\t\t<div>Date: {new Date(date).toDateString()}</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Button variant=\"primary\" onClick={() => history.push(`/edit/${id}`)} >Edit</Button>{' '}\r\n\t\t\t<Button variant=\"danger\" onClick={() => handleRemoveBook(id)} >Delete</Button>\r\n\t\t</Card.Body>\r\n\t</Card>\r\n};\r\n\r\nexport default Book;","import React from 'react';\r\n\r\nconst BooksContext = React.createContext();\r\n\r\nexport default BooksContext;\r\n","import React from 'react';\r\nimport Book from './Book.js';\r\nimport _ from 'lodash';\r\nimport BooksContext from '../context/BooksContext.js';\r\n\r\nconst BooksList = props => {\r\n\t// const {books, setBooks} = props;\r\n\tconst {books, setBooks} = React.useContext(BooksContext);\r\n\tconst handleRemoveBook = id => setBooks(books.filter(book => book.id !== id))\r\n\t\r\n\treturn <React.Fragment>\r\n\t\t<div className=\"book-list\">\r\n\t\t\t{\r\n\t\t\t\t!_.isEmpty(books) ? books.map(book => <Book key={book.id} {...book} handleRemoveBook={handleRemoveBook} />) : <p className=\"message\">No books available. Please add some books.</p>\r\n\t\t\t}    \r\n        </div>\r\n    </React.Fragment>\r\n};\r\n\r\nexport default BooksList;","import React from 'react';\r\nimport {Form, Button} from 'react-bootstrap';\r\nimport {v4 as uuid4} from 'uuid';\r\n\r\nconst BookForm = props => {\r\n\tconst [errorMsg, setErrorMsg] = React.useState('');\r\n\tconst [book, setBook] = React.useState(() => ({\r\n\t\tbookname: props.book ? props.book.bookname : '',\r\n\t\tauthor: props.book ? props.book.author : '',\r\n\t\tquantity: props.book ? props.book.quantity : '',\r\n\t\tprice: props.book ? props.book.price : '',\r\n\t}));\r\n\tconst {id, bookname, author, quantity, price} = book;\r\n\tconst status = props.status;\r\n\r\n\tconst handleInputChange = e => {\r\n\t\tconst {name, value} = e.target;\r\n\t\tswitch(name){\r\n\t\t\tcase 'quantity':\r\n\t\t\t\tif(value === '' || parseInt(value) === +value)\r\n\t\t\t\t\tsetBook(prevState => ({ ...prevState, [name]: value }));\r\n\t\t\tcase 'price':\r\n\t\t\t\tif (value === '' || value.match(/^\\d{1,}(\\.\\d{0,2})?$/))\r\n\t\t\t\t\tsetBook(prevState => ({ ...prevState, [name]: value }));\r\n\t\t\tdefault:\r\n\t\t\t\tsetBook(prevState => ({ ...prevState, [name]: value }));\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleOnSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tlet error = '';\r\n\t\tconst values = [bookname, author, quantity, price];\r\n\t\tconst allFieldsFilled = values.every(field => {\r\n\t\t\tconst value = field.trim();\r\n\t\t\treturn value !== '' && value !== '0';\r\n\t\t});\r\n\t\tif(allFieldsFilled){\r\n\t\t\tconst book = {\r\n\t\t\t\tid: uuid4(),\r\n\t\t\t\tbookname,\r\n\t\t\t\tauthor,\r\n\t\t\t\tquantity,\r\n\t\t\t\tprice,\r\n\t\t\t\tdate: new Date(),\r\n\t\t\t}\r\n\t\t\tprops.handleOnSubmit(book);\r\n\t\t}else{\r\n\t\t\terror = 'Please fill out all the fields.';\r\n\t\t}\r\n\t\tsetErrorMsg(error);\r\n\t}\r\n\t\r\n\treturn <div className='main-form' >\r\n\t\t{errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n\t\t<Form onSubmit={handleOnSubmit} >\r\n\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t<Form.Label>Book Name</Form.Label>\r\n\t\t\t\t<Form.Control className=\"input-control\" type=\"text\" name=\"bookname\" value={bookname} placeholder=\"Enter name of book\" onChange={handleInputChange} />\r\n\t\t\t</Form.Group>\r\n\t\t\t<Form.Group controlId=\"author\">\r\n\t\t\t\t<Form.Label>Book Author</Form.Label>\r\n\t\t\t\t<Form.Control className=\"input-control\" type=\"text\" name=\"author\" value={author} placeholder=\"Enter name of author\" onChange={handleInputChange} />\r\n\t\t\t</Form.Group>\r\n\t\t\t<Form.Group controlId=\"quantity\">\r\n\t\t\t\t<Form.Label>Quantity</Form.Label>\r\n\t\t\t\t<Form.Control className=\"input-control\" type=\"number\" name=\"quantity\" value={quantity} placeholder=\"Enter available quantity\" onChange={handleInputChange} />\r\n\t\t\t</Form.Group>\r\n\t\t\t<Form.Group controlId=\"price\">\r\n\t\t\t\t<Form.Label>Book Price</Form.Label>\r\n\t\t\t\t<Form.Control className=\"input-control\" type=\"text\" name=\"price\" value={price} placeholder=\"Enter price of book\" onChange={handleInputChange} />\r\n\t\t\t</Form.Group>\r\n\t\t\t\r\n\t\t\t<Button variant=\"primary\" type=\"submit\" className=\"submit-btn\">\r\n\t\t\t\t{status ? 'Update' : 'Submit'}\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t</div>\r\n};\r\n\r\nexport default BookForm;","import React from 'react';\r\nimport BookForm from './BookForm.js';\r\nimport BooksContext from '../context/BooksContext.js';\r\n\r\nconst AddBook = props => {\r\n\t// const {history, books, setBooks} = props;\r\n\tconst { books, setBooks } = React.useContext(BooksContext);\r\n\r\n\tconst handleOnSubmitHandler = book => {\r\n\t\tsetBooks([book, ...books]);\r\n\t\tprops.history.push('/');\r\n\t};\r\n\treturn <React.Fragment>\r\n\t\t<BookForm handleOnSubmit={handleOnSubmitHandler} />\r\n\t</React.Fragment>\r\n};\r\n\r\nexport default AddBook;\r\n","import React from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport BookForm from './BookForm.js';\r\nimport BooksContext from '../context/BooksContext.js';\r\n\r\nconst EditBook = ({history}) => {\r\n\tconst { books, setBooks } = React.useContext(BooksContext);\r\n\tconst {id} = useParams();\r\n\tconst bookToEdit = books.find(book => book.id === id);\r\n\tconst status = true;\r\n\r\n\tconst handleOnSubmit = book => {\r\n\t\tconst filteredBook = books.filter(book => book.id !== id);\r\n\t\tsetBooks([book, ...filteredBook]);\r\n\t\thistory.push('/');\r\n\t};\r\n\r\n\treturn <div>\r\n\t\t<BookForm book={bookToEdit} status={status} handleOnSubmit={handleOnSubmit} />\r\n\t</div>\r\n};\r\n\r\nexport default EditBook;\r\n","import React from 'react';\r\n\r\n/*const initialisation = () => {\r\n\tconst localValue = window.localStorage.getItem(key);\r\n\treturn localValue ? JSON.parse(localValue) : initialValue;\r\n};*/\r\n\r\nconst useLocalStorage = (key, initialValue) => {\r\n\tconst [value, setValue] = React.useState(() => {\r\n\t\tconst localValue = window.localStorage.getItem(key);\r\n\t\treturn localValue ? JSON.parse(localValue) : initialValue;\r\n\t});\r\n\r\n\tReact.useEffect(() => {\r\n\t\twindow.localStorage.setItem(key, JSON.stringify(value));\r\n\t}, [key, value]);\r\n\r\n\treturn [value, setValue];\r\n};\r\n\r\nexport default useLocalStorage;","import React from 'react';\r\nimport {BrowserRouter, Route, Switch, Redirect} from 'react-router-dom';\r\nimport Header from '../components/Header.js';\r\nimport BooksList from '../components/BooksList.js';\r\nimport AddBook from '../components/AddBook.js';\r\nimport EditBook from '../components/EditBook.js';\r\nimport useLocalStorage from '../hooks/useLocalStorage.js';\r\nimport BooksContext from '../context/BooksContext.js';\r\n\r\nconst AppRouter = () => {\r\n\tconst [books, setBooks] = useLocalStorage('books', []);\r\n\r\n\treturn <BrowserRouter>\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\t\t\t<div className=\"main-content\">\r\n\t\t\t\t<BooksContext.Provider value={{books, setBooks}} >\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route component={BooksList} path=\"/\" exact={true} />\r\n\t\t\t\t\t\t<Route component={AddBook} path=\"/add\" />\r\n\t\t\t\t\t\t<Route component={EditBook} path=\"/edit/:id\" />\r\n\t\t\t\t\t\t<Route component={() => <Redirect to=\"/\" />} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</BooksContext.Provider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</BrowserRouter>\r\n};\r\n\r\nexport default AppRouter;\r\n\r\n\r\n{/*<Switch>\r\n\t\t\t\t\t<Route render={props => <BooksList {...props} books={books} setBooks={setBooks} />} exact path='/' />\r\n\t\t\t\t\t<Route render={props => <AddBook {...props} books={books} setBooks={setBooks} />} path='/add' />\r\n\t\t\t\t\t<Route render={props => <EditBook {...props} books={books} setBooks={setBooks} />} path='/edit/:id' />\r\n\t\t\t\t\t<Route component={() => <Redirect to=\"/\" />} />\r\n\t\t\t\t</Switch>*/}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport AppRouter from './router/AppRouter.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    {/*<App />*/}\n    <AppRouter />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}