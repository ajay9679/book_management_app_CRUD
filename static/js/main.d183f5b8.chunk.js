(this["webpackJsonpbook-management-app"]=this["webpackJsonpbook-management-app"]||[]).push([[0],{35:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(27),r=n.n(o),i=(n(35),n(1));var s=n(14),b=n(13),j=n(6),l=function(){return Object(i.jsxs)("header",{children:[Object(i.jsx)("h1",{children:"Book Management App"}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"links",children:[Object(i.jsx)(b.b,{to:"/",className:"link",activeClassName:"active",exact:!0,children:"Books List"}),Object(i.jsx)(b.b,{to:"/add",className:"link",activeClassName:"active",children:"Add Book"})]})]})},u=n(11),d=n(49),h=n(50),O=function(e){var t=e.id,n=e.bookname,a=e.author,c=e.price,o=e.quantity,r=e.date,s=e.handleRemoveBook,b=Object(j.g)();return Object(i.jsx)(d.a,{style:{width:"18rem"},className:"book",children:Object(i.jsxs)(d.a.Body,{children:[Object(i.jsx)(d.a.Title,{className:"book-title",children:n}),Object(i.jsxs)("div",{className:"book-details",children:[Object(i.jsxs)("div",{children:["Author: ",a]}),Object(i.jsxs)("div",{children:["Quantity: ",o," "]}),Object(i.jsxs)("div",{children:["Price: ",c," "]}),Object(i.jsxs)("div",{children:["Date: ",new Date(r).toDateString()]})]}),Object(i.jsx)(h.a,{variant:"primary",onClick:function(){return b.push("/edit/".concat(t))},children:"Edit"})," ",Object(i.jsx)(h.a,{variant:"danger",onClick:function(){return s(t)},children:"Delete"})]})})},m=n(29),x=n.n(m),p=c.a.createContext(),k=function(e){var t=c.a.useContext(p),n=t.books,a=t.setBooks,o=function(e){return a(n.filter((function(t){return t.id!==e})))};return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)("div",{className:"book-list",children:x.a.isEmpty(n)?Object(i.jsx)("p",{className:"message",children:"No books available. Please add some books."}):n.map((function(e){return Object(i.jsx)(O,Object(u.a)(Object(u.a)({},e),{},{handleRemoveBook:o}),e.id)}))})})},v=n(18),f=n(15),y=n(47),N=n(48),g=function(e){var t=c.a.useState(""),n=Object(s.a)(t,2),a=n[0],o=n[1],r=c.a.useState((function(){return{bookname:e.book?e.book.bookname:"",author:e.book?e.book.author:"",quantity:e.book?e.book.quantity:"",price:e.book?e.book.price:""}})),b=Object(s.a)(r,2),j=b[0],l=b[1],d=(j.id,j.bookname),O=j.author,m=j.quantity,x=j.price,p=e.status,k=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"quantity":""!==a&&parseInt(a)!==+a||l((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(f.a)({},n,a))}));case"price":(""===a||a.match(/^\d{1,}(\.\d{0,2})?$/))&&l((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(f.a)({},n,a))}));default:l((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(f.a)({},n,a))}))}};return Object(i.jsxs)("div",{className:"main-form",children:[a&&Object(i.jsx)("p",{className:"errorMsg",children:a}),Object(i.jsxs)(y.a,{onSubmit:function(t){t.preventDefault();var n="";if([d,O,m,x].every((function(e){var t=e.trim();return""!==t&&"0"!==t}))){var a={id:Object(N.a)(),bookname:d,author:O,quantity:m,price:x,date:new Date};e.handleOnSubmit(a)}else n="Please fill out all the fields.";o(n)},children:[Object(i.jsxs)(y.a.Group,{controlId:"name",children:[Object(i.jsx)(y.a.Label,{children:"Book Name"}),Object(i.jsx)(y.a.Control,{className:"input-control",type:"text",name:"bookname",value:d,placeholder:"Enter name of book",onChange:k})]}),Object(i.jsxs)(y.a.Group,{controlId:"author",children:[Object(i.jsx)(y.a.Label,{children:"Book Author"}),Object(i.jsx)(y.a.Control,{className:"input-control",type:"text",name:"author",value:O,placeholder:"Enter name of author",onChange:k})]}),Object(i.jsxs)(y.a.Group,{controlId:"quantity",children:[Object(i.jsx)(y.a.Label,{children:"Quantity"}),Object(i.jsx)(y.a.Control,{className:"input-control",type:"number",name:"quantity",value:m,placeholder:"Enter available quantity",onChange:k})]}),Object(i.jsxs)(y.a.Group,{controlId:"price",children:[Object(i.jsx)(y.a.Label,{children:"Book Price"}),Object(i.jsx)(y.a.Control,{className:"input-control",type:"text",name:"price",value:x,placeholder:"Enter price of book",onChange:k})]}),Object(i.jsx)(h.a,{variant:"primary",type:"submit",className:"submit-btn",children:p?"Update":"Submit"})]})]})},C=function(e){var t=c.a.useContext(p),n=t.books,a=t.setBooks;return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(g,{handleOnSubmit:function(t){a([t].concat(Object(v.a)(n))),e.history.push("/")}})})},B=function(e){var t=e.history,n=c.a.useContext(p),a=n.books,o=n.setBooks,r=Object(j.h)().id,s=a.find((function(e){return e.id===r}));return Object(i.jsx)("div",{children:Object(i.jsx)(g,{book:s,status:!0,handleOnSubmit:function(e){var n=a.filter((function(e){return e.id!==r}));o([e].concat(Object(v.a)(n))),t.push("/")}})})},S=function(e,t){var n=c.a.useState((function(){var n=window.localStorage.getItem(e);return n?JSON.parse(n):t})),a=Object(s.a)(n,2),o=a[0],r=a[1];return c.a.useEffect((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,r]},w=function(){var e=S("books",[]),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(i.jsx)(b.a,{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(l,{}),Object(i.jsx)("div",{className:"main-content",children:Object(i.jsx)(p.Provider,{value:{books:n,setBooks:a},children:Object(i.jsxs)(j.d,{children:[Object(i.jsx)(j.b,{component:k,path:"/",exact:!0}),Object(i.jsx)(j.b,{component:C,path:"/add"}),Object(i.jsx)(j.b,{component:B,path:"/edit/:id"}),Object(i.jsx)(j.b,{component:function(){return Object(i.jsx)(j.a,{to:"/"})}})]})})})]})})};n(43),n(44);r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d183f5b8.chunk.js.map